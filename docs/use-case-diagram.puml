@startuml Local Energy Market - Use Case Diagram

!theme plain
skinparam actorStyle awesome
skinparam usecase {
    BackgroundColor LightBlue
    BorderColor DarkBlue
    ArrowColor DarkBlue
}

title Local Energy Market - Diagramma dei Casi d'Uso

actor "Consumer" as C
actor "Producer" as P
actor "Admin" as A

rectangle "Sistema di Mercato Energetico" {
    
    package "Gestione Autenticazione" {
        usecase "Registrazione" as REG
        usecase "Login" as LOG
        usecase "Gestione Profilo" as PROF
    }
    
    package "Gestione Produttore" {
        usecase "Creare Profilo Produttore" as CPP
        usecase "Impostare CapacitÃ  Orarie" as ICO
        usecase "Aggiornare Prezzi" as AP
        usecase "Verificare Occupazione" as VO
        usecase "Calcolare Guadagni" as CG
        usecase "Accettazione Proporzionale" as ACC
        usecase "Visualizzare Statistiche" as VS
    }
    
    package "Gestione Consumatore" {
        usecase "Prenotare Energia" as PE
        usecase "Modificare Prenotazione" as MP
        usecase "Cancellare Prenotazione" as CP
        usecase "Visualizzare Acquisti" as VA
        usecase "Calcolare Impronta Carbonio" as CIC
    }
    
    package "Gestione Sistema" {
        usecase "Gestire Utenti" as GU
        usecase "Monitorare Sistema" as MS
    }
}

' Relazioni Consumer
C --> REG
C --> LOG
C --> PE
C --> MP
C --> CP
C --> VA
C --> CIC

' Relazioni Producer
P --> REG
P --> LOG
P --> CPP
P --> ICO
P --> AP
P --> VO
P --> CG
P --> ACC
P --> VS

' Relazioni Admin
A --> LOG
A --> GU
A --> MS
A --> PROF

' Include/Extend relationships
PE ..> LOG : <<include>>
MP ..> LOG : <<include>>
CP ..> LOG : <<include>>
VA ..> LOG : <<include>>
CIC ..> LOG : <<include>>
CPP ..> LOG : <<include>>
ICO ..> LOG : <<include>>
AP ..> LOG : <<include>>
VO ..> LOG : <<include>>
CG ..> LOG : <<include>>
ACC ..> LOG : <<include>>
VS ..> LOG : <<include>>

@enduml

